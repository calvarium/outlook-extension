<UserControl x:Class="outlook_extension.UI.Controls.SearchBarControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             xmlns:converters="clr-namespace:outlook_extension.UI.Converters"
             x:Name="Root">
    <UserControl.Resources>
        <converters:EmptyStringToVisibilityConverter x:Key="EmptyStringToVisibilityConverter" />
    </UserControl.Resources>
    <Border Background="{DynamicResource SearchBarBackgroundBrush}"
            BorderBrush="{DynamicResource SearchBarBorderBrush}"
            BorderThickness="1"
            CornerRadius="10"
            Padding="12,10">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ui:SymbolIcon Symbol="Search"
                           Width="18"
                           Height="18"
                           Margin="0,0,8,0"
                           Foreground="{DynamicResource SecondaryTextBrush}" />
            <Grid Grid.Column="1">
                <TextBox x:Name="SearchTextBox"
                         Style="{StaticResource SearchTextBoxStyle}"
                         Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                         Background="Transparent" />
                <TextBlock Text="{Binding PlaceholderText, ElementName=Root}"
                           Margin="2,0,0,0"
                           Foreground="{DynamicResource PlaceholderTextBrush}"
                           IsHitTestVisible="False"
                           VerticalAlignment="Center"
                           Visibility="{Binding Text, ElementName=SearchTextBox, Converter={StaticResource EmptyStringToVisibilityConverter}}" />
            </Grid>
        </Grid>
    </Border>
</UserControl>
