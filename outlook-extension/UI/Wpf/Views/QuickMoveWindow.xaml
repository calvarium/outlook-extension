<wpfui:Window x:Class="outlook_extension.UI.Wpf.Views.QuickMoveWindow"
              xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
              xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
              xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
              xmlns:wpfui="http://schemas.lepo.co/wpfui"
              xmlns:controls="clr-namespace:outlook_extension.UI.Wpf.Controls"
              mc:Ignorable="d"
              Title="Quick Move"
              Width="620"
              Height="460"
              WindowStartupLocation="CenterScreen">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <controls:SearchBarControl x:Name="SearchBar"
                                   SearchText="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                                   PlaceholderText="Ordner suchen..." />
        <wpfui:ItemsRepeater Grid.Row="1"
                             ItemsSource="{Binding Results}">
            <wpfui:ItemsRepeater.Layout>
                <wpfui:StackLayout Orientation="Vertical" />
            </wpfui:ItemsRepeater.Layout>
            <wpfui:ItemsRepeater.ItemTemplate>
                <DataTemplate>
                    <wpfui:Button Style="{StaticResource ResultItemButtonStyle}"
                                  Command="{Binding DataContext.SelectResultCommand, RelativeSource={RelativeSource AncestorType=wpfui:Window}}"
                                  CommandParameter="{Binding}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <TextBlock Style="{StaticResource ResultTitleTextStyle}"
                                       Text="{Binding Title}" />
                            <TextBlock Grid.Row="1"
                                       Style="{StaticResource ResultSubtitleTextStyle}"
                                       Text="{Binding Subtitle}" />
                        </Grid>
                    </wpfui:Button>
                </DataTemplate>
            </wpfui:ItemsRepeater.ItemTemplate>
        </wpfui:ItemsRepeater>
        <TextBlock Grid.Row="2"
                   Margin="4,8,4,0"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                   Text="{Binding StatusText}" />
    </Grid>
</wpfui:Window>
